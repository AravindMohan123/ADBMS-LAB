CREATE DATABASE LOAN;
USE LOAN;

CREATE TABLE CUSTOMER(
CUSTID VARCHAR (15) NOT NULL PRIMARY KEY CHECK(CUSTID LIKE 'C%'),
CUSTNAME VARCHAR (30) NOT NULL ,
AGE INT (5),
PHNO INT (10)



);

CREATE TABLE LOAN(
LOANID VARCHAR(15) NOT NULL  PRIMARY KEY,
AMOUNT INT(10),
CUSTID VARCHAR(15) NOT NULL ,
EMI INT(7),
FOREIGN KEY(CUSTID) REFERENCES CUSTOMER(CUSTID) 




);
DROP DATABASE LOAN;
SELECT * FROM CUSTOMER ;
SELECT *FROM LOAN; 
UPDATE LOAN SET AMOUNT = (2/100)*AMOUNT + AMOUNT;
SELECT C.CUSTID,C.CUSTNAME FROM CUSTOMER AS C  INNER JOIN LOAN AS L WHERE L.CUSTID = C.CUSTID;
SELECT C.CUSTID,C.CUSTNAME FROM CUSTOMER AS C  INNER JOIN LOAN AS L WHERE  L.AMOUNT BETWEEN 30000 AND 50000;

CREATE VIEW TRACKER AS SELECT C.CUSTID,C.CUSTNAME,L.LOANID,L.AMOUNT FROM CUSTOMER AS C INNER JOIN LOAN AS L WHERE L.CUSTID = C.CUSTID;
INSERT INTO CUSTOMER VALUES('C12','BOB','35','987654321'),('C13','TUB','33','123456789'),('C14','TUT','32','123456789'),('C15','JOB','31','987654321');
INSERT INTO LOAN VALUES('101','45000','C12','7000'),('102','55000','C13','3000'),('103','60000','C12','4000'),('104','70000','C12','5000');

SELECT * FROM TRACKER;




